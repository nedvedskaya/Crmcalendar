# –ê–Ω–∞–ª–∏–∑ DRY –≤ –ø—Ä–æ–µ–∫—Ç–µ CRM –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–∞

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∏–ª–µ–π –∫–Ω–æ–ø–æ–∫ (–Ω–∞–π–¥–µ–Ω–æ 15+ —Å–ª—É—á–∞–µ–≤)
**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–ª–∏–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –≤–µ–∑–¥–µ
```tsx
// –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 3 —Ä–∞–∑–∞:
className="flex-1 py-3 rounded-xl bg-gradient-to-b from-zinc-800 to-zinc-900 text-white font-bold shadow-lg hover:shadow-xl transition-all"

// –ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 2 —Ä–∞–∑–∞:
className="flex-1 py-3 rounded-xl bg-zinc-100 text-zinc-600 font-bold hover:bg-zinc-200 transition-all"
```

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Button` —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
- –°–æ–∫—Ä–∞—â–∞–µ—Ç ~200 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π

### 2. –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ (–Ω–∞–π–¥–µ–Ω–æ 5+ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–ø–∏–ø–∞—Å—Ç –æ–±–µ—Ä—Ç–∫–∏ –º–æ–¥–∞–ª–æ–∫
```tsx
// –í FinanceView.tsx - 3 —Ä–∞–∑–∞ –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–π –∫–æ–¥:
<div className="absolute inset-0 z-[200] bg-zinc-900/50 backdrop-blur-sm..." onClick={...}>
  <div className="bg-white rounded-t-[32px] p-6..." onClick={(e) => e.stopPropagation()}>
    <div className="flex justify-between items-center mb-6">
      <h3 className="text-2xl font-black">{title}</h3>
      <button onClick={...}><X size={20}/></button>
    </div>
    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
  </div>
</div>
```

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Modal`
- –°–æ–∫—Ä–∞—â–∞–µ—Ç ~150 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (center/bottom)

### 3. Color Picker (–¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è 2 —Ä–∞–∑–∞)
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è
```tsx
// –í –º–æ–¥–∞–ª–∫–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ò –≤ –º–æ–¥–∞–ª–∫–µ —Ç–µ–≥–∞:
<div className="grid grid-cols-8 gap-2 mb-4">
  {COLORS.map(color => (
    <button onClick={...} className={...} style={{ backgroundColor: color }} />
  ))}
</div>
```

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ColorPicker`
- –°–æ–∫—Ä–∞—â–∞–µ—Ç ~40 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

### 4. Toggle –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ (–Ω–∞–π–¥–µ–Ω–æ 4+ —Å–ª—É—á–∞—è)
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∏–¥–∞ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è
```tsx
// –û–ø–µ—Ä–∞—Ü–∏–∏/–ê–Ω–∞–ª–∏—Ç–∏–∫–∞, –î–æ—Ö–æ–¥—ã/–†–∞—Å—Ö–æ–¥—ã, –ú–µ—Å—è—Ü/–ì–æ–¥ - –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
<div className="flex gap-2 p-1 bg-zinc-100 rounded-xl">
  {options.map(opt => (
    <button className={`flex-1 py-2.5 rounded-lg font-bold...`}>
      {opt.label}
    </button>
  ))}
</div>
```

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ToggleGroup`
- –°–æ–∫—Ä–∞—â–∞–µ—Ç ~100 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∫–æ–Ω–æ–∫

---

## üü¢ "–ù–ò–ó–ö–û –í–ò–°–Ø–©–ò–ï –§–†–£–ö–¢–´" (—Å–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

‚úÖ **Button** (`/src/app/components/ui/Button.tsx`)
- –í–∞—Ä–∏–∞–Ω—Ç—ã: primary, secondary, ghost, danger
- –†–∞–∑–º–µ—Ä—ã: sm, md, lg
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∫–æ–Ω–æ–∫

‚úÖ **Modal** (`/src/app/components/ui/Modal.tsx`)
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –º–æ–¥–∞–ª–æ–∫
- Backdrop + escape handling
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ center/bottom

‚úÖ **ColorPicker** (`/src/app/components/ui/ColorPicker.tsx`)
- –°–µ—Ç–∫–∞ —Ü–≤–µ—Ç–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

‚úÖ **ToggleGroup** (`/src/app/components/ui/ToggleGroup.tsx`)
- –ì—Ä—É–ø–ø–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
- 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å—Ç–∏–ª—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∫–æ–Ω–æ–∫

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- FinanceView.tsx: ~900 —Å—Ç—Ä–æ–∫
- App.tsx: ~1500+ —Å—Ç—Ä–æ–∫
- –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥: ~500 —Å—Ç—Ä–æ–∫

**–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- –≠–∫–æ–Ω–æ–º–∏—è: ~500 —Å—Ç—Ä–æ–∫
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 4
- –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏: –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ

---

## üîß –ü–†–ò–ú–ï–† –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –î–æ:
```tsx
<button 
  onClick={handleSave}
  className="flex-1 py-3 rounded-xl bg-gradient-to-b from-zinc-800 to-zinc-900 text-white font-bold shadow-lg hover:shadow-xl transition-all"
>
  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
</button>
```

### –ü–æ—Å–ª–µ:
```tsx
<Button variant="primary" onClick={handleSave}>
  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
</Button>
```

### –î–æ (–º–æ–¥–∞–ª–∫–∞):
```tsx
{isAddingNewCategory && (
  <div className="absolute inset-0 z-[250] bg-black/60 backdrop-blur-sm..." onClick={...}>
    <div className="bg-white rounded-3xl p-6..." onClick={(e) => e.stopPropagation()}>
      <h4 className="text-lg font-black mb-4">–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h4>
      {/* 50+ —Å—Ç—Ä–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */}
    </div>
  </div>
)}
```

### –ü–æ—Å–ª–µ (–º–æ–¥–∞–ª–∫–∞):
```tsx
<Modal 
  isOpen={isAddingNewCategory} 
  onClose={() => setIsAddingNewCategory(false)}
  title="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è"
  position="center"
  maxWidth="md"
>
  {/* –¢–æ–ª—å–∫–æ –∫–æ–Ω—Ç–µ–Ω—Ç */}
</Modal>
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –í–ù–ï–î–†–ï–ù–ò–Æ

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞ `<Button>`
2. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å –º–æ–¥–∞–ª–∫–∏ –Ω–∞ `<Modal>`
3. ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å color picker –Ω–∞ `<ColorPicker>`

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
4. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Card` –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤/–∑–∞–¥–∞—á
5. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Badge` –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —Ç–µ–≥–æ–≤
6. –í—ã–Ω–µ—Å—Ç–∏ —Ñ–æ—Ä–º—É –∫–ª–∏–µ–Ω—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
7. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AutocompleteInput –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
8. –°–æ–∑–¥–∞—Ç—å —Ö—É–∫–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (useModal)
9. –¢–∏–ø–∏–∑–∞—Ü–∏—è (–∑–∞–º–µ–Ω–∏—Ç—å `any` –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### –£–∂–µ —Ö–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚ú®
- ‚úÖ –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `/utils/constants`
- ‚úÖ Helpers (formatMoney, formatDate) –≤ `/utils/helpers`
- ‚úÖ Initial states –≤ `/utils/initialStates`
- ‚úÖ Header –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- –í—ã–Ω–µ—Å—Ç–∏ —Ç–∏–ø—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`/types`)
- –°–æ–∑–¥–∞—Ç—å —Ö—É–∫–∏ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (`/hooks`)
- –†–∞–∑–±–∏—Ç—å App.tsx –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`/pages`)
